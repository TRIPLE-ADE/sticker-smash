import { StyleSheet, FlatList, Platform, Pressable, Text } from "react-native";
import React, { memo } from "react";

type Props = {
  onSelect: (emoji: string) => void;
  onClose: () => void;
};

const emojies = [
  "ðŸ›’",
  "ðŸ›ï¸",
  "ðŸ§º",
  "ðŸ’³",
  "ðŸ’¸",
  "ðŸ’µ",
  "ðŸ’°",
  "ðŸ’²",
  "ðŸ§¾",
  "ðŸ”–",
  "ðŸª",
  "ðŸ¬",
  "ðŸ¦",
  "ðŸ§",
  "ðŸ“¦",
  "ðŸ“®",
  "ðŸ·ï¸",
  "âœ…",
  "ðŸ“‹",
  "ðŸ“œ",
  "âœï¸",
  "ðŸ“",
  "ðŸ”",
  "ðŸ“†",
  "â°",
  "ðŸ“±",
  "ðŸ’»",
  "ðŸŒ",
  "ðŸ”—",
  "ðŸ”’",
  "ðŸ”‘",
  "ðŸ—ƒï¸",
  "ðŸ—‚ï¸",
  "ðŸ”„",
  "ðŸ’¡",
  "â­ï¸",
  "ðŸ“Œ",
  "ðŸ“",
  "ðŸ“Š",
  "ðŸ’¯",
  "ðŸŽ‰",
  "ðŸŽŠ",
  "ðŸŽ",
  "ðŸ†",
  "âš–ï¸",
  "ðŸ ",
  "ðŸš—",
  "ðŸƒâ€â™‚ï¸",
  "ðŸƒâ€â™€ï¸",
  "ðŸš¶â€â™‚ï¸",
  "ðŸš¶â€â™€ï¸",
  "ðŸ‘•",
  "ðŸ‘–",
  "ðŸ‘—",
  "ðŸ‘”",
  "ðŸ©³",
  "ðŸ‘ ",
  "ðŸ‘Ÿ",
  "ðŸ§¥",
  "ðŸ§¤",
  "ðŸ§£",
  "ðŸ§¦",
  "ðŸŽ’",
  "ðŸ‘œ",
  "ðŸ‘›",
  "ðŸ‘“",
  "ðŸ•¶ï¸",
  "ðŸ‘’",
  "ðŸª£",
  "ðŸª‘",
  "ðŸ›‹ï¸",
  "ðŸšª",
  "ðŸªŸ",
  "ðŸº",
  "ðŸ–¼ï¸",
  "ðŸ“º",
  "ðŸ“»",
  "ðŸ”Œ",
  "ðŸ§´",
  "ðŸª¥",
  "ðŸ§¹",
  "ðŸ§½",
  "ðŸ—‘ï¸",
  "ðŸª’",
  "ðŸ’Š",
  "ðŸ’‰",
  "ðŸ©¹",
  "â¤ï¸",
  "ðŸ’”",
  "ðŸ’˜",
  "ðŸ’™",
  "ðŸ’š",
  "ðŸ’›",
  "ðŸ’œ",
  "ðŸ",
  "ðŸŽ",
  "ðŸ",
  "ðŸŠ",
  "ðŸ‹",
  "ðŸŒ",
  "ðŸ‰",
  "ðŸ‡",
  "ðŸ“",
  "ðŸ«",
  "ðŸˆ",
  "ðŸ’",
  "ðŸ‘",
  "ðŸ¥­",
  "ðŸ",
  "ðŸ¥¥",
  "ðŸ¥",
  "ðŸ…",
  "ðŸ†",
  "ðŸ¥‘",
  "ðŸ¥¦",
  "ðŸ¥¬",
  "ðŸ¥’",
  "ðŸŒ¶",
  "ðŸ«‘",
  "ðŸŒ½",
  "ðŸ¥•",
  "ðŸ¥”",
  "ðŸ§„",
  "ðŸ§…",
  "ðŸ„",
  "ðŸž",
  "ðŸ¥–",
  "ðŸ¥¨",
  "ðŸ¥",
  "ðŸ¥¯",
  "ðŸ§€",
  "ðŸ¥š",
  "ðŸ³",
  "ðŸ¥ž",
  "ðŸ§‡",
  "ðŸ¥“",
  "ðŸ¥©",
  "ðŸ—",
  "ðŸ–",
  "ðŸŒ­",
  "ðŸ”",
  "ðŸŸ",
  "ðŸ•",
  "ðŸ¥ª",
  "ðŸŒ®",
  "ðŸŒ¯",
  "ðŸ«”",
  "ðŸ¥™",
  "ðŸ§†",
  "ðŸœ",
  "ðŸ",
  "ðŸ£",
  "ðŸ¤",
  "ðŸ™",
  "ðŸš",
  "ðŸ›",
  "ðŸ²",
  "ðŸ¥˜",
  "ðŸ¥—",
  "ðŸ¿",
  "ðŸ§ˆ",
  "ðŸ¥«",
  "ðŸ±",
  "ðŸ¥®",
  "ðŸ ",
  "ðŸ¥",
  "ðŸ¥Ÿ",
  "ðŸ¥ ",
  "ðŸ¥¡",
  "ðŸ¦",
  "ðŸ§",
  "ðŸ¨",
  "ðŸ©",
  "ðŸª",
  "ðŸ§",
  "ðŸ°",
  "ðŸŽ‚",
  "ðŸ®",
  "ðŸ­",
  "ðŸ¬",
  "ðŸ«",
  "ðŸ¯",
  "ðŸ¥œ",
  "ðŸŒ°",
  "ðŸ¥›",
  "ðŸ§ƒ",
  "ðŸ§‰",
  "ðŸ¥¤",
  "ðŸ¶",
  "ðŸµ",
  "ðŸº",
  "ðŸ»",
  "ðŸ¥‚",
  "ðŸ·",
  "ðŸ¸",
  "ðŸ¹",
  "ðŸ¥ƒ",
  "ðŸ¾",
  "â˜•ï¸",
  "ðŸ«–",
  "ðŸ¥„",
  "ðŸ´",
  "ðŸ½",
  "ðŸ¥¢",
  "ðŸ§‚",
];

const EmojiItem = memo(
  ({
    item,
    onSelect,
    onClose,
  }: {
    item: string;
    onSelect: (emoji: string) => void;
    onClose: () => void;
  }) => {
    return (
      <Pressable
        onPress={() => {
          onSelect(item);
          onClose();
        }}
      >
        <Text style={{ fontSize: 50 }}>{item}</Text>
      </Pressable>
    );
  }
);

export default function EmojiList({ onSelect, onClose }: Props) {
  return (
    <FlatList
      showsHorizontalScrollIndicator={Platform.OS === "web"}
      data={emojies}
      contentContainerStyle={styles.listContainer}
      keyExtractor={(item) => item}
      numColumns={6}
      getItemLayout={(data, index) => ({
        length: 60,
        offset: 60 * index,
        index,
      })}
      renderItem={({ item }) => (
        <EmojiItem item={item} onSelect={onSelect} onClose={onClose} />
      )}
    />
  );
}

const styles = StyleSheet.create({
  listContainer: {
    borderTopRightRadius: 10,
    borderTopLeftRadius: 10,
    paddingHorizontal: 20,
    alignItems: "center",
    justifyContent: "space-between",
  },
});
